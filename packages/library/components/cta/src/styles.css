@import '@muons/library/css/default.css';

:host {
  display: inline-block;
  user-select: none;
  font-family: $CTA_FONT_FAMILY;

  /**
  * Styles specifically for the `<a>` element.
  * Retain the order `:link`, `:visited`, `:hover`, `:active`
  */
  & a {
    &:link {
      text-decoration: none;
    }
  }

  /**
  * Styles specifically for the `<button>` element.
  * The `<button>` element does not inherit font-family, font-size, font-weight or line-height.
  */
  & button {
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
  }

  & .cta {
    display: flex;
    flex-direction: row;
    align-items: center;
    text-align: start;
    column-gap: $CTA_COLUMN_GAP;
    padding-block-start: $CTA_PADDING_BLOCK_START;
    padding-block-end: $CTA_PADDING_BLOCK_END;
    padding-inline-start: $CTA_PADDING_INLINE_START;
    padding-inline-end: $CTA_PADDING_INLINE_END;
    background-color: $CTA_BACKGROUND_COLOR;
    color: $CTA_COLOR;
    border-width: 2px;
    border-style: solid;
    border-color: #333;
    border-radius: 10px;

    &:hover {
      background-color: $CTA_HOVER_BACKGROUND_COLOR;
      border-color: $CTA_HOVER_BORDER_COLOR;
      text-decoration: underline;
    }

    & :focus:not(:focus-visible) {
      outline: none; /* https://matthiasott.com/notes/focus-visible-is-here and https://www.tpgi.com/focus-visible-and-backwards-compatibility/ */
    }

    &:focus-visible {
      outline-color: $CTA_FOCUS_OUTLINE_COLOR;
      outline-offset: 0; /* Chrome by default adds a 1px offset on the `<a>` */
      outline-style: solid;
      outline-width: 3px;
      text-decoration: underline;
    }

    &:active {
      background-color: $CTA_ACTIVE_BACKGROUND_COLOR;
      border-color: $CTA_ACTIVE_BORDER_COLOR;
    }

    &[disabled],
    &.disabled {
      background-color: $CTA_DISABLED_BACKGROUND_COLOR;
      border-color: $CTA_DISABLED_BORDER_COLOR;
      pointer-events: none;
    }

    &.loading {
      background-color: $CTA_LOADING_BACKGROUND_COLOR;
      border-color: $CTA_LOADING_BORDER_COLOR;
      pointer-events: none;
    }

    & .label-holder {
      min-inline-size: 10em;
      max-inline-size: 32em;
    }

    & .icon {
      flex-shrink: 0; /* Ensure the icon is not compressed when the content wraps on two lines. */
      width: 1.25rem;
    }
  }
}

/* TODO: move these `[disabled]` and `[loading]` styles to default.css */

/* stylelint-disable no-descending-specificity */
:host([disabled]),
:host([loading]) {
  cursor: auto;
  pointer-events: none;
}
/* stylelint-enable no-descending-specificity */
